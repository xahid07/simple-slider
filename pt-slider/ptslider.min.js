const ___=(e,t)=>e.querySelector(t),____=(e,t)=>e.querySelectorAll(t);class PTSlider{'use strict';constructor(e){let t=this;if(Object.assign(t,{e:e,wraper:___(document,e),slider:"",items:[],itemCount:0,lastMargin:0,sliderWidth:0,viewWidth:0,navigationBullet:"",navigatorArea:0,last_transform_value:0,minNavWidth:0,slidingLength:0,SlidingAbs:0,navMovingArea:0,startX:0,offsetX:0,newX:0,lastAbs:0,newAbs:0,navLength:0,lastX:0,newPlacement:0,navLengthAbs:0,minDistance:10}),t.wraper.classList.add("pt_slider_wraper"),t.wraper.firstElementChild.classList.add("pt_slider"),t.slider=___(t.wraper,".pt_slider"),t.items=____(t.slider,".slider_item"),t.itemCount=t.items.length,t.lastMargin=parseInt(getComputedStyle(t.items[t.itemCount-1]).getPropertyValue("margin-right")),t.sliderWidth=t.slider.scrollWidth+t.lastMargin,t.viewWidth=t.slider.offsetWidth,t.sliderWidth-t.lastMargin<=t.viewWidth)return!1;t.init()}#e=()=>{let e=this;if(e.last_transform_value=e.sliderWidth-e.viewWidth,!___(e.wraper,".pt_slider_navigator")){let t=document.createElement("div");for(t.innerHTML='<div class="pt_slider_navigator"><div class="navigator_bullet"></div></div>';t.firstChild;)e.wraper.appendChild(t.firstChild)}e.navigationBullet=___(e.wraper,".navigator_bullet"),e.navigatorArea=___(e.wraper,".pt_slider_navigator").clientWidth};#t=()=>{let e=this;e.minNavWidth=Math.round(e.viewWidth/e.sliderWidth*100),e.navigationBullet.style.setProperty("width",`${e.minNavWidth}px`),e.slidingLength=Math.round(-e.last_transform_value),e.SlidingAbs=Math.abs(e.slidingLength),e.navMovingArea=e.navigatorArea-e.minNavWidth};#i=e=>{let t=this;if(t.newX=t.offsetX+e.clientX-t.startX||t.offsetX+e.touches&&e.touches[0].clientX-t.startX,t.lastAbs=Math.abs(t.lastX),t.newAbs=Math.abs(t.newX),(t.lastAbs>t.newAbs?t.lastAbs-t.newAbs:t.newAbs-t.lastAbs)>t.minDistance&&(t.navLength=Math.round(t.newPlacement+t.newX),t.slider.style.setProperty("--x-exis",t.navLength+"px"),t.navLengthAbs=Math.abs(t.navLength),t.navLength<=0&&t.navLengthAbs<=t.SlidingAbs)){let e=Math.round(t.navLengthAbs*t.navMovingArea/t.SlidingAbs+t.minNavWidth);t.navigationBullet.style.setProperty("width",e+"px")}};#s=e=>{let t=this;t.startX=e.clientX||e.touches&&e.touches[0].clientX,t.offsetX=parseInt(getComputedStyle(this.slider).getPropertyValue("left")),document.addEventListener("mousemove",t.#i),document.addEventListener("touchmove",t.#i)};#n=e=>{let t=this;t.lastX=t.newX,t.newPlacement=parseInt(getComputedStyle(t.slider).getPropertyValue("--x-exis")),t.newPlacement>0?(t.slider.style.setProperty("--x-exis","0px"),t.newPlacement=t.lastX=0):t.newPlacement<t.slidingLength&&(t.slider.style.setProperty("--x-exis",t.slidingLength+"px"),t.newPlacement=t.lastX=t.slidingLength),document.removeEventListener("mousemove",t.#i),document.removeEventListener("touchmove",t.#i)};#a=()=>{this.slider.addEventListener("mousedown",this.#s)};#r=()=>{this.slider.addEventListener("touchstart",this.#s)};#l=()=>{document.addEventListener("mouseup",this.#n)};#d=()=>{document.addEventListener("touchend",this.#n)};init(){this.#e(),this.#t(),this.#a(),this.#r(),this.#l(),this.#d()}}
